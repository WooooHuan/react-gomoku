{"version":3,"sources":["Components/Wireframe.js","Utils/gomoku.js","Components/GoButton.js","Components/GoItem.js","Components/GoBoard.js","Components/GameOverPanel.js","Components/MainContainer.js","index.js"],"names":["gridKey","Wireframe","gridItems","Array","i","length","className","Vector2","x","y","this","a","b","Game","onGameOver","round","isOver","faction","Board","size","btnCmpt","blackGoCmpt","whiteGoCmpt","items","pos","go","item","components","push","React","cloneElement","getComponent","key","position","board","direction","startPos","isInRange","subtract","row","getItem","add","Math","min","max","getStartPosition","getRowOfFaction","join","includes","repeat","Go","GoButton","game","setGame","shakeEffect","onClick","setItem","isConnected","gameOver","nextRound","GoItem","console","log","GoBoard","useState","getVisibleComponents","GameOverPanel","showMembers","setShowMembers","useEffect","setTimeout","members","window","location","reload","MainContainer","boardContainerRef","useRef","winner","setWinner","ref","current","classList","remove","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6292368b.chunk.js","sourcesContent":["import './Wireframe.css';\r\n\r\nlet gridKey = 0;\r\n\r\nfunction Wireframe() {\r\n  let gridItems = new Array(324);\r\n  for (let i = 0; i < gridItems.length; i++) {\r\n    gridItems[i] = <div className=\"grid-item\" key={gridKey++}></div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid-transformer\">\r\n      <div className=\"grid-background\">\r\n        <div className=\"grid-container\">\r\n          {gridItems}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Wireframe;\r\n","import React from 'react';\r\n\r\nclass Vector2 {\r\n  constructor(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n  static add(a, b) {\r\n    return new Vector2(a.x + b.x, a.y + b.y);\r\n  }\r\n  static subtract(a, b) {\r\n    return new Vector2(a.x - b.x, a.y - b.y);\r\n  }\r\n}\r\n\r\nclass Game {\r\n  constructor(onGameOver) {\r\n    this.round = 0;\r\n    this.isOver = false;\r\n    this.onGameOver = onGameOver;\r\n  }\r\n\r\n  get faction() {\r\n    return this.round % 2 ? 'white' : 'black';\r\n  }\r\n  nextRound() {\r\n    this.round += 1;\r\n  }\r\n  gameOver() {\r\n    this.isOver = true;\r\n    this.onGameOver(this.faction);\r\n  }\r\n}\r\n\r\nclass Board {\r\n  constructor(size, btnCmpt, blackGoCmpt, whiteGoCmpt) {\r\n    const items = new Array(size);\r\n    for (let i = 0; i < size; i++) {\r\n      items[i] = new Array(size);\r\n    }\r\n    this.items = items;\r\n    this.size = size;\r\n    this.btnCmpt = btnCmpt;\r\n    this.blackGoCmpt = blackGoCmpt;\r\n    this.whiteGoCmpt = whiteGoCmpt;\r\n  }\r\n  getItem(pos) {\r\n    return this.items[pos.x][pos.y];\r\n  }\r\n  setItem(go, pos) {\r\n    this.items[pos.x][pos.y] = go;\r\n  }\r\n  getComponent(item) {\r\n    if (item) {\r\n      return item.faction === 'black' ?\r\n        this.blackGoCmpt :\r\n        this.whiteGoCmpt;\r\n    }\r\n    return this.btnCmpt;\r\n  }\r\n  getVisibleComponents() {\r\n    const components = [];\r\n    for (let x = 0; x < this.items.length; x++) {\r\n      for (let y = 0; y < this.items[x].length; y++) {\r\n        components.push(\r\n          React.cloneElement(\r\n            this.getComponent(this.items[x][y]), {\r\n            key: `cmpt-${x}-${y}`,\r\n            position: new Vector2(x, y),\r\n            board: this\r\n          }\r\n          ));\r\n      }\r\n    }\r\n    return components;\r\n  }\r\n  getStartPosition(pos, direction) {\r\n    let startPos;\r\n    while (this.isInRange(pos)) {\r\n      startPos = pos;\r\n      pos = Vector2.subtract(pos, direction);\r\n    }\r\n    return startPos;\r\n  }\r\n  getRowOfFaction(pos, direction) {\r\n    const row = [];\r\n    while (this.isInRange(pos)) {\r\n      const item = this.getItem(pos);\r\n      row.push(item ? item.faction : ' ');\r\n      pos = Vector2.add(pos, direction);\r\n    }\r\n    return row;\r\n  }\r\n  isInRange(pos) {\r\n    return Math.min(pos.x, pos.y) >= 0 &&\r\n      Math.max(pos.x, pos.y) < this.size;\r\n  }\r\n  isConnected(pos) {\r\n    const directions = [\r\n      new Vector2(0, 1),\r\n      new Vector2(1, 0),\r\n      new Vector2(1, 1),\r\n      new Vector2(1, -1)\r\n    ]\r\n    for (let direction of directions) {\r\n      const faction = this.getItem(pos).faction;\r\n      const startPos = this.getStartPosition(pos, direction);\r\n      const row = this.getRowOfFaction(startPos, direction);\r\n      if (row.join('').includes(faction.repeat(5))) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nclass Go {\r\n  constructor(faction) {\r\n    this.faction = faction;\r\n  }\r\n}\r\n\r\nexport { Vector2, Game, Board, Go };\r\n","import { Go } from '../Utils/gomoku';\r\nimport './GoButton.css';\r\n\r\nfunction GoButton({ board, game, setGame, position, shakeEffect }) {\r\n\r\n  function onBtnClicked() {\r\n    board.setItem(\r\n      new Go(game.faction),\r\n      position\r\n    )\r\n    if (board.isConnected(position)) {\r\n      game.gameOver();\r\n    } else {\r\n      game.nextRound();\r\n    }\r\n    setGame({ ...game });\r\n    shakeEffect();\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`${game.faction}-go-btn`}\r\n      onClick={onBtnClicked}\r\n    ></div>\r\n  );\r\n}\r\n\r\nexport default GoButton;\r\n","import './GoItem.css';\r\n\r\nfunction GoItem({ faction, position }) {\r\n  return (\r\n    <div\r\n      className={`${faction}-go-item`}\r\n      onClick={() => {\r\n        console.log(`${faction}-go clicked`);\r\n        console.log(position);\r\n      }}\r\n    >\r\n      <div className=\"click-effect\"></div>\r\n      <div className=\"shadow-effect\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GoItem;\r\n","import { useState } from 'react';\r\nimport { Game, Board } from '../Utils/gomoku';\r\nimport './GoBoard.css';\r\n\r\nimport GoButton from './GoButton';\r\nimport GoItem from './GoItem';\r\n\r\nfunction GoBoard({ onGameOver, shakeEffect }) {\r\n  const [game, setGame] = useState(\r\n    new Game(onGameOver)\r\n  );\r\n  const [board, setBoard] = useState(\r\n    new Board(\r\n      19,\r\n      <GoButton\r\n        {...{game}}\r\n        {...{setGame}}\r\n        {...{shakeEffect}}\r\n      />,\r\n      <GoItem faction={\"black\"} />,\r\n      <GoItem faction={\"white\"} />\r\n    )\r\n  );\r\n\r\n  return (\r\n    <div className=\"input-transformer\">\r\n      <div className=\"input-background\">\r\n        <div className=\"input-container\">\r\n          {board.getVisibleComponents()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GoBoard;\r\n","import { useState, useEffect } from 'react';\r\nimport './GameOverPanel.css';\r\n\r\nfunction GameOverPanel({ faction }) {\r\n  const [showMembers, setShowMembers] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setShowMembers(true);\r\n    }, 500);\r\n  }, []);\r\n\r\n  const members =\r\n    <div className=\"members-root\">\r\n      <div className=\"title-text\">\r\n        {\r\n          faction === 'black' ?\r\n            '⚫ WINS' :\r\n            '⚪ WINS'\r\n        }\r\n      </div>\r\n      <div\r\n        className=\"try-again-btn\"\r\n        onClick={() => window.location.reload()}\r\n      >\r\n        Try again\r\n      </div>\r\n    </div>;\r\n\r\n  return (\r\n    <div className=\"panel-container\">\r\n      {showMembers ? members : ''}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GameOverPanel;\r\n","import { useState, useRef } from 'react';\r\nimport './MainContainer.css';\r\nimport Wireframe from './Wireframe';\r\nimport GoBoard from './GoBoard';\r\nimport GameOverPanel from './GameOverPanel';\r\n\r\nfunction MainContainer() {\r\n  const boardContainerRef = useRef(null);\r\n  const [winner, setWinner] = useState('');\r\n\r\n  function onGameOver(winner) {\r\n    setWinner(winner);\r\n  }\r\n\r\n  function shakeEffect() {\r\n    boardContainerRef.current.classList.remove('shake-anim');\r\n    setTimeout(() => {\r\n      boardContainerRef.current.classList.add('shake-anim');\r\n    }, 0);\r\n  }\r\n\r\n  return (\r\n    <div className=\"main-container\">\r\n      <div className=\"board-container\" ref={boardContainerRef}>\r\n        {winner ? <GameOverPanel faction={winner} /> : ''}\r\n        <Wireframe />\r\n        <GoBoard {...{onGameOver}} {...{shakeEffect}} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainContainer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainContainer from './Components/MainContainer';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MainContainer />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}